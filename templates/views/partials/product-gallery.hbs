<div id="colorway-container"></div>
{{# ifCond product.gallery.length '>' 1}}
    
    <div class="{{class}}">
        <div class="row" style="margin-top: 5px; margin-bottom: 15px;">
            <div class="col-xs-12" style="text-align:center">
            
				{{#everyNth product.gallery product.imagesPerColorSwatch}}
				{{#if isModZeroNotFirst}}
					</div>
				{{/if}}
				{{#if isModZero}}
					<div id="product-icon-{{n}}" class="product-icon-group icon-toggle" style="text-align:center;{{#unless isFirst}}display:none;{{/unless}}">
						{{#with (lookup ../../product.galleryColorwaysArray page)}}
                            <div class="product-swatch-title">{{colorway}}</div>
						{{/with}}
				{{/if}}
					<div data-image-id="#product-{{n}}" class="image-toggler" style="display: inline-block;">
						<img src="{{cloudinaryUrl this width=80 format="jpg"}}"/>
					</div>
				{{#if isLast}}
					</div>
				{{/if}}
				{{/everyNth}}
            
        </div>
    </div>

    <div class="row">
        <div id="product-color-swatches" class="col-xs-12" style="text-align:center; visibility:hidden;">
			{{#everyNth product.galleryColorwaysArray product.imagesPerColorSwatch}}
				<div data-icon-id="#product-icon-{{productIndex}}" data-image-id="#product-{{productIndex}}" class="icon-toggler color-swatch"
					 style="{{#if split}}background: linear-gradient(-45deg, {{split.[1]}} 50%,{{split.[0]}} 50%);{{else}}background-color:{{color}};{{/if}}">
				</div>
			{{/everyNth}}
        </div>
    </div>
	</div>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.icon-toggler').on('click', function (e) {
                $('.icon-toggle').hide();
                $($(this).attr('data-icon-id')).show();
                $('.image-toggle').hide();
                $($(this).attr('data-image-id')).show();
            });


            $('.image-toggler').on('click', function (e) {
                $('.image-toggle').hide();
                $($(this).attr('data-image-id')).show();
            });

        });
        $(window).load(function(){
			if($('#product-color-swatches').children().length > 1) {
            	$('#product-color-swatches').css({visibility:'visible', opacity: 0.0}).animate({opacity: 1}, 500);
            }
        });
    </script>
{{/ifCond}}
